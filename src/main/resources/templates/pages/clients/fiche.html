<!DOCTYPE html>
<html lang="fr" xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/layout"
	layout:decorate="layout/layout">
<div layout:fragment="content">
	<div
		class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
		<h1 class="h2" th:text="${client.nom +' '+ client.prenom+' - '+client.entreprise}">Jean Martin - Tech Solutions SARL</h1>
		<div class="btn-toolbar mb-2 mb-md-0">
			<button class="btn btn-outline-secondary me-2">
				<i class="fas fa-edit"></i> Modifier
			</button>
			<button class="btn btn-outline-danger">
				<i class="fas fa-trash"></i> Supprimer
			</button>
		</div>
	</div>

	<div class="row">
		<!-- Informations Client -->
		<div class="col-md-4">
			<div class="card shadow mb-4">
				<div class="card-header bg-primary text-white">
					<h6 class="mb-0">
						<i class="fas fa-info-circle me-2"></i>Informations Client
					</h6>
				</div>
				<div class="card-body">
					<div class="mb-3">
						<strong>Type:</strong> <span class="badge bg-info" th:text="${client.typeClient}"></span>
					</div>
					<div class="mb-3">
						<strong>Statut:</strong> <span class="badge bg-success" th:text="${client.statut}"></span>
					</div>
					<div class="mb-3">
						<strong>Email:</strong><br> <p th:text="${client.email}"></p>
					</div>
					<div class="mb-3">
						<strong>Téléphone:</strong><br> <p th:text="${client.telephone}"> </p>
					</div>
					<div class="mb-3">
						<strong>Adresse:</strong><br> <p th:text="${client.adresse}"> </p>
					</div>
					<div class="mb-3">
						<strong>Commercial assigné:</strong><br> Marie Lambert
					</div>
				</div>
			</div>
		</div>

		<!-- Opportunités -->
		<div class="col-md-8">
			<div class="card shadow mb-4">
				<div
					class="card-header bg-success text-white d-flex justify-content-between align-items-center">
					<h6 class="mb-0">
						<i class="fas fa-bullseye me-2"></i>Opportunités
					</h6>
					<button class="btn btn-sm btn-light">Nouvelle</button>
				</div>
				<div class="card-body">
					<div class="table-responsive">
						<table class="table table-sm">
							<thead>
								<tr>
									<th>Nom</th>
									<th>Montant</th>
									<th>Étape</th>
									<th>Probabilité</th>
									<th>Date clôture</th>
								</tr>
							</thead>
							<tbody>
								<tr th:each="opp:${opportunitees}">
									<td th:text="${opp.nomOpportunite}">Site E-commerce</td>
									<td th:text="${opp.montantEstime}">€25,000</td>
									<td th:text="${opp.etapeVente}"><span class="badge bg-warning">Négociation</span></td>
									<td>
										<div class="progress" style="height: 8px;">
											<div class="progress-bar bg-warning" th:style="'width:'+${opp.probabilite}+'%'"></div>
										</div> <small th:text="${probabilite*10}">70%</small>
									</td>
									<td th:text="${opp.dateCloturePrevue}">15/12/2024</td>
								</tr>
							</tbody>
						</table>
					</div>
				</div>
			</div>

			<!-- Dernières Interactions -->
			<div class="card shadow">
				<div class="card-header bg-info text-white">
					<h6 class="mb-0">
						<i class="fas fa-history me-2"></i>Dernières Interactions
					</h6>
				</div>
				<div class="card-body">
					<div class="list-group list-group-flush">
						<div class="list-group-item">
							<div class="d-flex w-100 justify-content-between">
								<h6 class="mb-1">Appel téléphonique</h6>
								<small class="text-muted">Aujourd'hui, 14:30</small>
							</div>
							<p class="mb-1">Discussion sur le projet de site e-commerce.
								Client intéressé.</p>
							<small class="text-muted">Par Marie Lambert</small>
						</div>
						<div class="list-group-item">
							<div class="d-flex w-100 justify-content-between">
								<h6 class="mb-1">Email envoyé</h6>
								<small class="text-muted">Hier, 09:15</small>
							</div>
							<p class="mb-1">Envoi du devis révisé.</p>
							<small class="text-muted">Par Marie Lambert</small>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>

<div layout:fragment="scripts">

</div>
</html>