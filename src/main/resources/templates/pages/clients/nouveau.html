<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/layout"
	layout:decorate="layout/layout">
	<div layout:fragment="content">
	
  <div class="card">
    <div class="card-body">
      <form th:action="@{/clients/ajouter}" th:object="${client}" method="post" id="clientForm">
        
        <!-- INDICATEUR DE PROGRESSION -->
        <div class="progress mb-4" style="height: 6px;">
          <div id="progressBar" class="progress-bar" style="width: 25%;"></div>
        </div>
        
        <div class="d-flex justify-content-between align-items-center mb-3">
          <h5 class="card-title text-primary mb-0">
            <i class="ti ti-user-plus me-2"></i>Nouveau Client
            <small class="text-muted" id="stepTitle">- Informations de base</small>
          </h5>
          <span class="badge bg-primary" id="stepIndicator">Étape 1/4</span>
        </div>

        <!-- ÉTAPE 1: INFORMATIONS DE BASE -->
        <div id="step1" class="form-step">
          <div class="row g-3">
            <div class="col-md-6">
              <label class="form-label fw-semibold">Nom *</label>
              <input type="text" th:field="*{nom}" class="form-control" placeholder="Dupont" required>
            </div>
            <div class="col-md-6">
              <label class="form-label fw-semibold">Prénom *</label>
              <input type="text" th:field="*{prenom}" class="form-control" placeholder="Jean" required>
            </div>
            <div class="col-md-6">
              <label class="form-label fw-semibold">Email *</label>
              <input type="email" th:field="*{email}" class="form-control" placeholder="jean.dupont@email.com" required>
            </div>
            <div class="col-md-6">
              <label class="form-label fw-semibold">Téléphone</label>
              <input type="tel" th:field="*{telephone}" class="form-control" placeholder="01 23 45 67 89">
            </div>
          </div>
        </div>

        <!-- ÉTAPE 2: ENTREPRISE -->
        <div id="step2" class="form-step" style="display: none;">
          <div class="row g-3">
            <div class="col-md-8">
              <label class="form-label fw-semibold">Entreprise</label>
              <input type="text" th:field="*{entreprise}" class="form-control" placeholder="Nom de l'entreprise">
            </div>
            <div class="col-md-4">
              <label class="form-label fw-semibold">Fonction</label>
              <input type="text" th:field="*{fonction}" class="form-control" placeholder="Directeur, Chef de projet...">
            </div>
            <div class="col-md-6">
              <label class="form-label fw-semibold">Site web</label>
              <input type="url" th:field="*{siteWeb}" class="form-control" placeholder="https://...">
            </div>
            <div class="col-md-6">
              <label class="form-label fw-semibold">Secteur d'activité</label>
              <select th:field="*{secteur}" class="form-select">
                <option value="">Sélectionner...</option>
                <option value="IT">Informatique / Tech</option>
                <option value="COMMERCE">Commerce</option>
                <option value="SERVICES">Services</option>
                <option value="INDUSTRIE">Industrie</option>
                <option value="SANTE">Santé</option>
                <option value="AUTRE">Autre</option>
              </select>
            </div>
          </div>
        </div>

        <!-- ÉTAPE 3: LOCALISATION -->
        <div id="step3" class="form-step" style="display: none;">
          <div class="row g-3">
            <div class="col-md-8">
              <label class="form-label fw-semibold">Adresse</label>
              <input type="text" th:field="*{adresse}" class="form-control" placeholder="123 Avenue des Champs...">
            </div>
            <div class="col-md-4">
              <label class="form-label fw-semibold">Code postal</label>
              <input type="text" th:field="*{codePostal}" class="form-control" placeholder="75001">
            </div>
            <div class="col-md-6">
              <label class="form-label fw-semibold">Ville</label>
              <input type="text" th:field="*{ville}" class="form-control" placeholder="Paris">
            </div>
            <div class="col-md-6">
              <label class="form-label fw-semibold">Pays</label>
              <input type="text" th:field="*{pays}" class="form-control" placeholder="France" value="France">
            </div>
          </div>
        </div>

        <!-- ÉTAPE 4: INFORMATIONS SUPPLEMENTAIRES -->
        <div id="step4" class="form-step" style="display: none;">
          <div class="row g-3">
            <div class="col-md-6">
              <label class="form-label fw-semibold">Source du prospect</label>
              <select th:field="*{origine}" class="form-select">
                <option value="RECOMMANDATION">Recommandation</option>
                <option value="SITE_WEB">Site web</option>
                <option value="RESEAUX_SOCIAUX">Réseaux sociaux</option>
                <option value="SALON">Salon professionnel</option>
                <option value="PUBLICITE">Publicité</option>
                <option value="AUTRE">Autre</option>
              </select>
            </div>
            <div class="col-md-6">
              <label class="form-label fw-semibold">Score de prospection</label>
              <div class="d-flex align-items-center gap-3">
                <input type="range" th:field="*{scoreProspect}" class="form-range" min="1" max="10" value="5" 
                       oninput="document.getElementById('scoreDisplay').textContent = this.value">
                <span id="scoreDisplay" class="badge bg-primary">5</span>
              </div>
            </div>
            <div class="col-12">
              <label class="form-label fw-semibold">Notes</label>
              <textarea th:field="*{notes}" class="form-control" rows="3" 
                        placeholder="Informations complémentaires..."></textarea>
            </div>
          </div>
        </div>

        <!-- BOUTONS DE NAVIGATION -->
        <div class="mt-4 pt-3 border-top d-flex justify-content-between">
          <button type="button" id="prevBtn" class="btn btn-outline-secondary" onclick="prevStep()" style="display: none;">
            <i class="ti ti-arrow-left me-2"></i>Précédent
          </button>
          <button type="button" id="nextBtn" class="btn btn-primary ms-auto" onclick="nextStep()">
            Suivant <i class="ti ti-arrow-right ms-2"></i>
          </button>
          <button type="submit" id="submitBtn" class="btn btn-success" style="display: none;">
            <i class="ti ti-check me-2"></i>Créer le client
          </button>
        </div>

      </form>
    </div>
  </div>
</div>
</html>